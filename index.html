<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Javascript Encryption</title>
    <link href="./css/main.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <h2>Javascript Encryption</h2>
    <div>
      <p>Using PBKDF2 key derivation with 100,000 iterations.</p>
      <select id="algo">
        <option value="1">AES-256-EAX</option>
        <option value="2">Blowfish-448-CBC</option>
      </select>
      <br>
      <input id="password" type="password" placeholder="Password">
      <br>
      <input id="confirmPassword" type="password" placeholder="Confirm password">
      <br>
      <textarea rows="10" cols="70" id="ptext" placeholder="Plaintext"></textarea>
      <br>
      <input type="button" onclick="encrypt()" value="Encrypt">
      <input type="button" onclick="decrypt()" value="Decrypt">
      <br>
      <textarea rows="10" cols="70" id="etext" placeholder="Encrypted Text"></textarea>
      <br>
      <input onclick="downloadCrypted()" type="button" value="Download as .txt">
      <br>
    </div>
    <hr>
    <div>
      <h3>File Encryption</h3>
      <p>Using AES-256 in EAX mode with PBKDF2 key derivation using 100,000 iterations.</p>
      <input type="file" onchange="readFile(this)" id="file"><br>
      <p><span class="warning">Avoid encrypting files above 10MB</span></p>
      <p>Due to a encoding issue it is recomended to zip the file after encryption</p>
      <input type="password" id="filePassword" placeholder="Password"><br>
      <input type="password" id="confirmFilePassword" placeholder="Confirm password"><br>
      <input type="button" onclick="fileEncrypt()" value="Encrypt">
      <input type="button" onclick="fileDecrypt()" value="Decrypt">
      <br>
      <input type="button" onclick="downloadFile()" value="Download">
      <p>Result: <span id="fileResultDisplay">Waiting...</span></p>
    </div>
    <hr>
    <div>
      <h3>Password Generator</h3>
      <p>Recomended password length 16 characters</p>
      <input type="number" placeholder="Length" value="16" id="length">
      <input type="button" value="generatePassword" onclick="generatePassword()">
      <br>
      <p>Password: <input type="text" id="passwd" disabled></p>
      <p>Entropy: <span id="entropy"></span></p>
      <p>Recomended password entropy &#62;70</p>
    </div>
    <div class="small-text">
      <hr>
      <p>V 2.3 Beta</p>
      <p id="isitupdate">Up to date!</p>
    </div>
    <script src="./js/crypto-js.min.js"></script>
    <script src="./js/all.min.js"></script>
    <script src="./js/downloader.js"></script>
    <script src="./js/main.js"></script>
    <script src="./js/fCrypt.js"></script>
    <script src="./js/gzip.js"></script>
    <script src="./js/password.js"></script>
    <script src="./js/blowfish.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="./js/auto-update.js"></script>
  </body>
</html>